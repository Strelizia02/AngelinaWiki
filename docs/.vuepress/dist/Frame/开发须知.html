<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发准则 | AngelinaBot</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/angelina.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.9825735b.css" as="style"><link rel="preload" href="/assets/js/app.c4012ad7.js" as="script"><link rel="preload" href="/assets/js/2.3c2e6582.js" as="script"><link rel="preload" href="/assets/js/14.10dbe749.js" as="script"><link rel="prefetch" href="/assets/js/10.3020c85f.js"><link rel="prefetch" href="/assets/js/11.ba3c6fac.js"><link rel="prefetch" href="/assets/js/12.c06732f1.js"><link rel="prefetch" href="/assets/js/13.868abce9.js"><link rel="prefetch" href="/assets/js/15.28a53bf4.js"><link rel="prefetch" href="/assets/js/16.36d50245.js"><link rel="prefetch" href="/assets/js/17.646e592b.js"><link rel="prefetch" href="/assets/js/18.b1cf4e8f.js"><link rel="prefetch" href="/assets/js/19.3d700c1e.js"><link rel="prefetch" href="/assets/js/20.662eaa6b.js"><link rel="prefetch" href="/assets/js/21.5bf7b2f3.js"><link rel="prefetch" href="/assets/js/22.888ecbe6.js"><link rel="prefetch" href="/assets/js/23.59391ff8.js"><link rel="prefetch" href="/assets/js/24.b20e6323.js"><link rel="prefetch" href="/assets/js/3.d3831241.js"><link rel="prefetch" href="/assets/js/4.da8b72e6.js"><link rel="prefetch" href="/assets/js/5.048c6337.js"><link rel="prefetch" href="/assets/js/6.29f38f88.js"><link rel="prefetch" href="/assets/js/7.83f34aea.js"><link rel="prefetch" href="/assets/js/8.4d31b438.js"><link rel="prefetch" href="/assets/js/9.31e214be.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9825735b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/angelina.jpg" alt="AngelinaBot" class="logo"> <span class="site-name can-hide">AngelinaBot</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="功能描述" class="dropdown-title"><span class="title">功能描述</span> <span class="arrow down"></span></button> <button type="button" aria-label="功能描述" class="mobile-dropdown-title"><span class="title">功能描述</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Function/基础功能.html" class="nav-link">
  基础功能
</a></li><li class="dropdown-item"><!----> <a href="/Function/模拟抽卡.html" class="nav-link">
  模拟抽卡
</a></li><li class="dropdown-item"><!----> <a href="/Function/游戏数据.html" class="nav-link">
  游戏数据
</a></li><li class="dropdown-item"><!----> <a href="/Function/B站推送.html" class="nav-link">
  B站推送
</a></li><li class="dropdown-item"><!----> <a href="/Function/附加功能.html" class="nav-link">
  附加功能
</a></li><li class="dropdown-item"><!----> <a href="/Function/定时任务.html" class="nav-link">
  定时任务
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="搭建部署" class="dropdown-title"><span class="title">搭建部署</span> <span class="arrow down"></span></button> <button type="button" aria-label="搭建部署" class="mobile-dropdown-title"><span class="title">搭建部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Build/部署前言.html" class="nav-link">
  部署前言
</a></li><li class="dropdown-item"><!----> <a href="/Build/登录配置.html" class="nav-link">
  登录配置
</a></li><li class="dropdown-item"><!----> <a href="/Build/闲聊配置.html" class="nav-link">
  闲聊配置
</a></li><li class="dropdown-item"><!----> <a href="/Build/数据更新.html" class="nav-link">
  数据更新
</a></li><li class="dropdown-item"><!----> <a href="/Build/常见错误.html" class="nav-link">
  常见错误
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架开发" class="dropdown-title"><span class="title">框架开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架开发" class="mobile-dropdown-title"><span class="title">框架开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Frame/开发须知.html" class="nav-link">
  开发须知
</a></li><li class="dropdown-item"><!----> <a href="/Frame/框架服务.html" class="nav-link">
  框架服务
</a></li><li class="dropdown-item"><!----> <a href="/Frame/如何开发.html" class="nav-link">
  如何开发
</a></li></ul></div></div><div class="nav-item"><a href="/About.html" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/Strelizia02/AngelinaBot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  洁哥源码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Strelizia02/AngelinaFrame" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架源码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="功能描述" class="dropdown-title"><span class="title">功能描述</span> <span class="arrow down"></span></button> <button type="button" aria-label="功能描述" class="mobile-dropdown-title"><span class="title">功能描述</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Function/基础功能.html" class="nav-link">
  基础功能
</a></li><li class="dropdown-item"><!----> <a href="/Function/模拟抽卡.html" class="nav-link">
  模拟抽卡
</a></li><li class="dropdown-item"><!----> <a href="/Function/游戏数据.html" class="nav-link">
  游戏数据
</a></li><li class="dropdown-item"><!----> <a href="/Function/B站推送.html" class="nav-link">
  B站推送
</a></li><li class="dropdown-item"><!----> <a href="/Function/附加功能.html" class="nav-link">
  附加功能
</a></li><li class="dropdown-item"><!----> <a href="/Function/定时任务.html" class="nav-link">
  定时任务
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="搭建部署" class="dropdown-title"><span class="title">搭建部署</span> <span class="arrow down"></span></button> <button type="button" aria-label="搭建部署" class="mobile-dropdown-title"><span class="title">搭建部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Build/部署前言.html" class="nav-link">
  部署前言
</a></li><li class="dropdown-item"><!----> <a href="/Build/登录配置.html" class="nav-link">
  登录配置
</a></li><li class="dropdown-item"><!----> <a href="/Build/闲聊配置.html" class="nav-link">
  闲聊配置
</a></li><li class="dropdown-item"><!----> <a href="/Build/数据更新.html" class="nav-link">
  数据更新
</a></li><li class="dropdown-item"><!----> <a href="/Build/常见错误.html" class="nav-link">
  常见错误
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架开发" class="dropdown-title"><span class="title">框架开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架开发" class="mobile-dropdown-title"><span class="title">框架开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Frame/开发须知.html" class="nav-link">
  开发须知
</a></li><li class="dropdown-item"><!----> <a href="/Frame/框架服务.html" class="nav-link">
  框架服务
</a></li><li class="dropdown-item"><!----> <a href="/Frame/如何开发.html" class="nav-link">
  如何开发
</a></li></ul></div></div><div class="nav-item"><a href="/About.html" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/Strelizia02/AngelinaBot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  洁哥源码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Strelizia02/AngelinaFrame" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架源码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发准则</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#责任声明" class="sidebar-link">责任声明</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#开源协议" class="sidebar-link">开源协议</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#开发规范" class="sidebar-link">开发规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#bot与账号" class="sidebar-link">Bot与账号</a></li><li class="sidebar-sub-header"><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#bot的唤起" class="sidebar-link">Bot的唤起</a></li><li class="sidebar-sub-header"><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#bot定时任务" class="sidebar-link">Bot定时任务</a></li><li class="sidebar-sub-header"><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#bot速率限制" class="sidebar-link">Bot速率限制</a></li><li class="sidebar-sub-header"><a href="/Frame/%E5%BC%80%E5%8F%91%E9%A1%BB%E7%9F%A5.html#用户输入" class="sidebar-link">用户输入</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="开发准则"><a href="#开发准则" class="header-anchor">#</a> 开发准则</h1> <h2 id="责任声明"><a href="#责任声明" class="header-anchor">#</a> 责任声明</h2> <p>AngelinaFrame（以下简称为<strong>本项目</strong>）为基于SpringBoot，简化Java开发QQBot的框架，<strong>本项目</strong>并不提供任何QQ协议。本质上可以集成任何一款QQBot框架，通过QQBot框架提供的QQ协议，进行自动化的接受、回复消息功能。</p> <hr> <div class="custom-block danger"><p class="custom-block-title">再次强调，使用本项目请务必遵守当地法律法规，禁止使用本项目进行任何违法违规活动，包括但不限于：</p> <ul><li><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%E4%BC%A0%E6%92%AD%E5%9E%83%E5%9C%BE%E4%BF%A1%E6%81%AF%E5%88%A4%E5%87%A0%E5%B9%B4" target="_blank" rel="noopener noreferrer">传播垃圾广告<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%E4%BC%A0%E6%92%AD%E6%B7%AB%E7%A7%BD%E4%BF%A1%E6%81%AF%E5%88%A4%E5%87%A0%E5%B9%B4" target="_blank" rel="noopener noreferrer">传播违禁资源<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%E4%BC%A0%E9%94%80%E6%9C%80%E9%AB%98%E5%88%A4%E5%87%A0%E5%B9%B4" target="_blank" rel="noopener noreferrer">运营非法活动<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%E7%94%B5%E4%BF%A1%E8%AF%88%E9%AA%97%E6%9C%80%E9%AB%98%E5%88%A4%E5%87%A0%E5%B9%B4" target="_blank" rel="noopener noreferrer">电信诈骗<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><strong>本项目</strong>中需要明文配置QQ账号密码，有极高的密码泄露风险，请勿使用高价值QQ账号进行开发、调试、运营。</p></div> <p>QQ账号存在调用发送消息接口成功，但是实际发送失败的情况。这种情况我们一般称为&quot;风控&quot;。</p> <p>&quot;<strong>风控</strong>&quot;原因分为几种：</p> <ul><li><p>新注册账号 新注册账号有可能会被长时间&quot;<strong>风控</strong>&quot;，建议注册账号后，经常使用账号聊天提高活跃度，再进行开发、测试。</p></li> <li><p>第一次使用某QQ协议 例如<strong>本项目</strong>中默认使用的MiraiQQ框架，第一次登录时必定会出现&quot;<strong>风控</strong>&quot;。请使用该协议保持在线状态一段时间，约1~3天自动解除。</p></li> <li><p>账号被封禁 账号因违反用户协议被封禁/冻结等，解封后会有1-3天的&quot;<strong>风控</strong>&quot;期。</p></li> <li><p>切换设备登录 Mirai框架本质上会根据你的物理设备信息生成一个模拟的登录设备信息，当你切换运行环境，极大可能会经历滑块验证码/常用设备验证/&quot;<strong>风控</strong>&quot;等。</p></li> <li><p>其他框架的&quot;<strong>风控</strong>&quot;原因与上述原因类似，多数情况均可通过&quot;使用该框架保持登录状态1-3天&quot;的方式解决。</p></li></ul> <hr> <p><strong>本项目</strong>原则上不会保存<strong>聊天记录</strong>，但<strong>聊天记录</strong>会打印成日志。因此有可能出现<strong>用户隐私泄露</strong>的情况（闪照依然会被记录在日志中），请各位开发者务必通知用户有关<strong>隐私保护</strong>的内容。</p> <h2 id="开源协议"><a href="#开源协议" class="header-anchor">#</a> 开源协议</h2> <p><strong>本项目</strong>使用AGPLv3.0协议开源，原则上引用或间接引用<strong>本项目</strong>的代码都应开源。</p> <p><strong>本项目</strong>开发目的为学习、讨论，请各位开发者尽可能避免商业用途。</p> <h2 id="开发规范"><a href="#开发规范" class="header-anchor">#</a> 开发规范</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>以下开发规范仅为<strong>个人建议</strong>，希望各位开发者在使用<strong>本项目</strong>开发QQBot的过程中，能够遵循以下开发规范</p></div> <h3 id="bot与账号"><a href="#bot与账号" class="header-anchor">#</a> Bot与账号</h3> <p>Bot为一个服务主体，一个Bot有可能由多个QQ账号组合而成。而用户无需关心具体的QQ账号，仅需在QQ群聊/私聊，输入Bot的命令，即可收到1条来自Bot的回复。</p> <h3 id="bot的唤起"><a href="#bot的唤起" class="header-anchor">#</a> Bot的唤起</h3> <p>每个Bot都应该拥有一个属于自己的名字，并且在实际的唤起Bot的方法中，必须使用该名称进行唤起。</p> <p>我认为，作为一个合格的Bot开发者，首要考虑的并不是你的Bot功能应该做到多么丰富，而是需要保证在用户不想使用的情况下，不要让Bot打扰用户的正常聊天。
同时Bot命名也可以降低多个Bot包含同样触发条件时，循环触发导致死循环的风险。</p> <p>因此将你的Bot进行命名，并且开发者使用的时候必须键入Bot的名称，否则一切业务逻辑(除定时任务)都不会触发。</p> <p>例如：</p> <ul><li><p>【洁哥天气】——触发名为洁哥Bot的查看天气功能 √</p></li> <li><p>【天气】——触发查看天气功能 <strong>×</strong></p></li></ul> <p>原因：用户正常聊天中，某些词属于高频触发，例如当用户在发送</p> <hr> <p>玩亚索又是0-7，今天气死我了</p> <hr> <p>本质上没有主观唤起bot，却因为包含某些字样触发了Bot。</p> <ul><li>【早安】——触发早安回复功能 <strong>×</strong></li></ul> <p>用户输入早安后，因为群内包含多个Bot，导致连续触发</p> <hr> <p>用户：早安</p> <p>Bot1：早安，用户</p> <p>Bot2：早安，用户</p> <p>Bot2：早安，Bot1</p> <p>Bot1：早安，Bot2</p> <p>...</p> <hr> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>本项目中强制要求开发者配置botNames信息</p></div> <h3 id="bot定时任务"><a href="#bot定时任务" class="header-anchor">#</a> Bot定时任务</h3> <p>部分Bot业务中可能会包含定时任务的功能，例如&quot;早安问候&quot;，&quot;生日提醒&quot;等。</p> <p>在安排定时任务时，应遵循&quot;低频率&quot;的原则，不要让Bot的定时任务不断的刷屏影响用户正常使用。</p> <h3 id="bot速率限制"><a href="#bot速率限制" class="header-anchor">#</a> Bot速率限制</h3> <p>鉴于多个Bot之间循环发送的情况较多，Bot的开发者最好在Bot代码中限制单人的回复速率，防止多个Bot之间死循环。</p> <p><strong>本项目</strong>中已包含速率限制，单人10s内超过3条消息，会提示效率过快，超过5条消息会停止回复该用户，直到最近10s内消息总数小于3条恢复正常。（正常单人连续聊天速率约为1条/3秒）</p> <h3 id="用户输入"><a href="#用户输入" class="header-anchor">#</a> 用户输入</h3> <p>应让用户去学习你的Bot使用方式，而不是让你的Bot很轻易就可以被用户输入唤起。一定要对用户的输入做校验。</p> <p>作为一个专业的开发者，永远不要相信你的用户输入，尽可能减少直接输出用户的输入内容。用户的输入具有多样化的特性，经典&quot;用户点了一碗炒饭&quot;的问题，尤其是部分恶意用户会利用你的系统漏洞作出攻击，简单的攻击比如有一个复读机功能，用户让你的Bot复读一个违禁语句，然后举报，这会导致你的Bot封号。</p> <p>网络安全中，多数的系统漏洞都是因为相信用户输入而造成&quot;用户点了一碗炒饭，酒吧炸了&quot;的情况，无论是从你的账号安全角度，还是从Bot的运行稳定性角度，都尽可能的不去相信用户输入，减少各种意外风险。</p> <hr> <p>漏洞案例：相信用户输入导致的漏洞，java史上最大漏洞，log4j的jndi注入。</p> <hr></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c4012ad7.js" defer></script><script src="/assets/js/2.3c2e6582.js" defer></script><script src="/assets/js/14.10dbe749.js" defer></script>
  </body>
</html>
